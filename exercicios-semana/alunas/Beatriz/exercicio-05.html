<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 05</title>
</head>

<body>
    <script>

        const dados = [false, false, false]; // debug valores: String,  float, float 


        function exedeuCasas(valor) {
            let casas = valor.toString();
            casas = casas.split(".");
            if (casas.length==1) return true;
                if (casas[1].length > 2) return false;
                else return true;
        }

        function campoNulo(valor) {
            const padrao = (!valor || valor == null || valor == undefined || valor == "" || valor == 'undefined' || valor == 'null');

            if (typeof(valor)=="string") return (valor=="" || padrao);
            if (typeof(valor)=="number") return (isNaN(valor) || Math.sign(valor) == -1 || !exedeuCasas(valor) || padrao);
            return true;
        }

        function entradaHTML() {
            let nome = (!dados[0]) ? prompt("Insira o nome do vendedor") : dados[0];
            if (campoNulo(nome)) {
                alert('insira o nome do vendedor!');
                return entradaHTML();
            }
            dados[0] = nome;
            let salario = (!dados[1]) ? Number(prompt("Insira o salario fixo mensal do vendedor")) : dados[1];
            
            if (campoNulo(salario))  {
                alert('insira o salario fixo do vendedor! Ex: 1000.00');
                return entradaHTML();
            }
            dados[1] = salario;

            let vendas = (!dados[2]) ? Number(prompt("Insira as vendas total mensal do vendedor")) : dados[2];
            if (campoNulo(vendas)) {
                alert('insira as vendas mensal do vendedor! Ex: 500.00');
                return entradaHTML();
            }
            dados[2] = vendas;

            return alert(`${nome} receberá: \nTotal R$ ${((vendas * 0.15) + salario).toFixed(2)}`);

        }

        entradaHTML();

    </script>
</body>

</html>